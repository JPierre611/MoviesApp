<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movies App!</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous">
  <style>
    #form {
      display: table;
    }

    .form-row {
      display: table-row;
    }

    .form-item {
      display: table-cell;
      margin-bottom: 10px;
    }

    label.form-item {
      padding-right: 10px;
    }

  </style>
</head>

<body>
  <h1>Movies App</h1>
  <section>
    <h2>Form</h2>
    <form id='form'>
      <div class='form-row'>
        <label class='form-item'>Movie Title (2 chars min.): </label>
        <input class='form-item' type='text' minlength='2' required>
      </div>
      <div class='form-row'>
        <label class='form-item'>Movie Rating (0-10): </label>
        <input class='form-item' type='number' min='0' max='10' required>
      </div>
      <div class='form-row'>
        <input class='form-item' type='submit' value='Submit!'>
      </div>
    </form>
    <table class="table">
      <thead>
        <tr>
          <th scope='col'>Movie Title</th>
          <th scope='col'>Rating</th>
          <th scope='col'>Action</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </section>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    // Build an application that uses jQuery to do the following:
    // * Contains a form with two inputs for a title and rating along with a button to submit the form.
    // * When the form is submitted, capture the values for each of the inputs and append
    //   them to the DOM along with a button to remove each title and rating from the DOM.
    // * When the button to remove is clicked, remove each title and rating from the DOM.

    // waits for the DOM to load
    $(function() {
      $('#form').on('submit', function(evt) {
        evt.preventDefault();
        const $tbody = $('tbody');
        const $tr = $('<tr>');
        const $td1 = $('<td>').append($('input').eq(0).val());
        $tr.append($td1);
        const $td2 = $('<td>').append($('input').eq(1).val());
        $tr.append($td2);
        const $button = $('<button>').addClass("btn btn-primary btn-sm");
        $button.text('Delete');
        $tr.append($button);
        $tr.appendTo($tbody);
        $('input').eq(0).val('');
        $('input').eq(1).val('');
      })

      $('.table').on('click', 'button', function(evt) {
        const $element = evt.target.parentElement;
        if ($element.nodeName === 'TR') {
          $element.remove();
        }
      })
    });
  </script>
</body>

</html>